<!doctype html>
<html>
	<head>
		<title>sound test</title>
		<script src='sound.js'></script>
		<script>
			var soundcontent;

			var urlpattern = 'a/%sound%.mp3';
			
			var fxfiles = [
				'explosionshort',  //http://audiojungle.net/item/explosives-explosion/13439072
				'klunk',  //http://audiojungle.net/item/cowbell-low/14325152
			];

			window.addEventListener('load', function() {
				window.AudioContext = window.AudioContext || window.webkitAudioContext;
				var context = new AudioContext();

				soundfx = new Sound(context);
				soundfx.loadSounds(urlpattern, fxfiles, function() {
					document.getElementById('msg').innerHTML = 'loaded';
				});

				document.getElementById('btnExplosionShort').addEventListener('click', function() { soundfx.play( 'explosionshort')}, false);
				document.getElementById('btnKlunk').addEventListener('click', function() { soundfx.play( 'klunk')}, false);
			}, false);
		</script>

	</head>
	<body>
		<h1>sound test</h1>
		<input type=button id=btnExplosionShort value='Explosion Short' /><br/>
		<input type=button id=btnKlunk value=Klunk /><br/>
		<p id='msg'>loading...</p>
		</body>
</html>
